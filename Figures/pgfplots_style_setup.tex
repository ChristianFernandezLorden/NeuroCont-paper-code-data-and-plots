\usepackage{xcolor}
\usepackage{siunitx}
\sisetup{exponent-product=\!\cdot\!,retain-zero-exponent,exponent-base=\ensuremath{{\scriptstyle 10}}}
\usepackage{tikz}
\pgfplotsset{compat=1.18}
\usetikzlibrary{arrows.meta,positioning,calc,intersections,shapes,angles,patterns,quotes,backgrounds,decorations.pathreplacing}
\usepgfplotslibrary{units, groupplots, statistics, colormaps,fillbetween}

\newcommand{\equal}{=}
\newcommand{\coloraxes}{black}
\pgfplotsset{
    %set layers,
    legend image with text/.style={
        legend image code/.code={%
            \node[anchor=center] at (0.3cm,0cm) {#1};
        }
    },
    two ticks x axis/.style 2 args={
        xmin=#1,
        xmax=#2,
        xtick={#1},
        xticklabel style={anchor=north west, inner xsep=0pt, inner ysep=1.5pt},
        %x tick style={yshift=0.5*\pgflinewidth},
        extra x ticks={#2},
        extra x tick style={xticklabel style={anchor=north east}},% xshift=-\pgflinewidth},
        x axis line style={shorten <=-0.5*\pgflinewidth, shorten >=-0.5*\pgflinewidth},
    },
    two ticks x axis labels/.style 2 args={
        xticklabels={#1},
        extra x tick labels={#2},
    },
    no ticks x axis/.style = {
        xtick=\empty,
    },
    unit x axis/.style n args={4}{
        xmin=#1,
        xmax=#2,
        xtick={0.5*(#1+#3)},
        xticklabels={#3#4},
        xtick style={draw=none},
        xticklabel style={font=\normalsize},
        x axis line style={shorten >=((#2-#1-#3)*\pgfplotsunitxlength*10pt)},
    },
    two ticks y axis/.style 2 args={
        ymin=#1,
        ymax=#2,
        ytick={#1},
        yticklabel style={anchor=south east, inner ysep=0pt, inner xsep=1.5pt},
        %y tick style={xshift=-0.5*0*\pgflinewidth},
        extra y ticks={#2},
        extra y tick style={yticklabel style={anchor=north east}},% xshift=-\pgflinewidth},
        y axis line style={shorten <=-0.5*\pgflinewidth, shorten >=-0.5*\pgflinewidth},
    },
    no ticks y axis/.style = {
        ytick=\empty,
    },
    two ticks y axis labels/.style 2 args={
        yticklabels={#1},
        extra y tick labels={#2},
    },
    two ticks y axis enlarge lims/.style n args={4}{
        two ticks y axis={#3}{#4},
        ymin=#1,
        ymax=#2,
        extra y tick style={yticklabel style={anchor=north east}},% xshift=-\pgflinewidth},
        y axis line style={shorten <=((#3-#1)*\pgfplotsunitylength*100pt) -0.5*\pgflinewidth, shorten >= ((#2-#4)*\pgfplotsunitylength*100pt) -0.5*\pgflinewidth},
    },
    no ticks y axis/.style = {
        ytick=\empty,
    },
    middle y axis style/.style={
        two ticks y axis labels={}{},
        ylabel={},
    },
    detached axis/.style={
        axis lines*=left,
        enlargelimits=0.0,
        axis y line shift=#1,
        axis x line shift=#1,
        axis line style = {\coloraxes,thick},
        tick style={\coloraxes, thick},
        extra tick style={every tick},
        ticklabel style={font=\scriptsize,text=\coloraxes},
        xlabel style = {at={(axis description cs:0.5,0)},anchor=north,yshift=-#1},
        ylabel style = {at={(axis description cs:0,0.5)},rotate=-90,anchor=east,xshift=-#1},
        label style={font=\large,text=\coloraxes},
        x label style={font=\normalsize},
    },
    detached axis/.default={0.25cm},
    detached x axis/.style={
        axis lines*=left,
        ytick=\empty,
        axis x line shift=#1,
        x axis line style = {\coloraxes, thick},
        y axis line style = {draw=none, thick},
        tick style={\coloraxes, thick},
        extra tick style={every tick},
        ticklabel style={font=\scriptsize,text=\coloraxes},
        xlabel style = {at={(axis description cs:0.5,0)},anchor=north,yshift=-#1},
        ylabel style = {at={(axis description cs:0,0.5)},rotate=-90,anchor=east},
        label style={font=\large,text=\coloraxes},
        x label style={font=\normalsize},
    },
    detached x axis/.default={0.25cm},
    detached y axis/.style={
        axis lines*=left,
        xtick=\empty,
        axis y line shift=#1,
        x axis line style = {draw=none, thick},
        y axis line style = {\coloraxes, thick},
        tick style={\coloraxes, thick},
        extra tick style={every tick},
        ticklabel style={font=\scriptsize,text=\coloraxes},
        xlabel style = {at={(axis description cs:0.5,0)},anchor=north},
        ylabel style = {at={(axis description cs:0,0.5)},rotate=-90,anchor=east,xshift=-#1},
        label style={font=\large,text=\coloraxes},
        x label style={font=\normalsize},
    },
    detached y axis/.default={0.25cm},
    custom line legend/.style={
        legend image code/.code={
            \path [#1] (0cm,0cm) -- (0.3cm,0cm);
        },
    },
    custom circle legend/.style={
        legend image code/.code={
            \draw [#1] (0.15cm,0cm) circle[radius=0.06cm];
        },
    },
    custom area legend/.style={
        legend image code/.code={
            \draw [#1] (0.0cm,-0.06cm) rectangle (0.3cm,0.06cm);
        },
    },
    custom line mark legend/.style={
        legend image code/.code={
            \path [#1] (0.09cm,0cm) -- (0.21cm,0cm);
        },
    },
}